<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <label for="">number</label>
    <br>
    <input type="number" name="" id="numberInput" />
    <div class="btn-generate">
        <!-- button to fetch the data  -->
        <button onclick="callerFunction()">Generate</button>
        <button onclick="randomUser()">Fetch Random</button>

    </div>
     
    <div id="main">

    </div>
    <script>
        // function to fetch data from the API
        const fetchData = async (userInput) => {
            const main = document.getElementById('main');
            const response = await fetch(`https://jsonplaceholder.typicode.com/users/${userInput}`);
            //if response is not ok, alert user   - error handling
            if (!response.ok) {
                alert("Post not found");
                return;
            }
            const post = await response.json();
            main.innerHTML = `${post.name}`;

        }
        // function to get user input and call fetchData
        const callerFunction = () => {
            const userInput = document.getElementById('numberInput').value;
            //if userInput is empty, alert user - error handling
            if (!userInput) {
                alert("Please enter a number");
                return;
            }
            if (userInput > 10) {
                alert("Please enter a number between 1 and 10");
                return;
            }
            console.log(userInput);
            fetchData(userInput)
        }
        // function to generate random user number and fetch data
        const randomUser = () => {
            const userInput = document.getElementById('numberInput').value;
            const randomUserNumber = Math.round(Math.random() * 10) + 1;
            userInput.value = randomUserNumber;
            if (randomUserNumber > 0 && randomUserNumber <= 10) {
                fetchData(randomUserNumber);
            } else {
                alert("Generated number is out of range, generating again.");
            }
        } 
    </script>
</body>

</html>